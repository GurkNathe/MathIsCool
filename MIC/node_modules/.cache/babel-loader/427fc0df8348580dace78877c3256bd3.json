{"ast":null,"code":"/*! firebase-admin v9.10.0 */\n\"use strict\";\n/*!\r\n * @license\r\n * Copyright 2021 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AppCheck = void 0;\n\nvar app_check_api_client_internal_1 = require(\"./app-check-api-client-internal\");\n\nvar token_generator_1 = require(\"./token-generator\");\n\nvar token_verifier_1 = require(\"./token-verifier\");\n\nvar crypto_signer_1 = require(\"../utils/crypto-signer\");\n/**\r\n * AppCheck service bound to the provided app.\r\n */\n\n\nvar AppCheck =\n/** @class */\nfunction () {\n  /**\r\n   * @param app The app for this AppCheck service.\r\n   * @constructor\r\n   */\n  function AppCheck(app) {\n    this.app = app;\n    this.client = new app_check_api_client_internal_1.AppCheckApiClient(app);\n\n    try {\n      this.tokenGenerator = new token_generator_1.AppCheckTokenGenerator(crypto_signer_1.cryptoSignerFromApp(app));\n    } catch (err) {\n      throw token_generator_1.appCheckErrorFromCryptoSignerError(err);\n    }\n\n    this.appCheckTokenVerifier = new token_verifier_1.AppCheckTokenVerifier(app);\n  }\n  /**\r\n   * Creates a new {@link appCheck.AppCheckToken `AppCheckToken`} that can be sent\r\n   * back to a client.\r\n   *\r\n   * @param appId The app ID to use as the JWT app_id.\r\n   *\r\n   * @return A promise that fulfills with a `AppCheckToken`.\r\n   */\n\n\n  AppCheck.prototype.createToken = function (appId) {\n    var _this = this;\n\n    return this.tokenGenerator.createCustomToken(appId).then(function (customToken) {\n      return _this.client.exchangeToken(customToken, appId);\n    });\n  };\n  /**\r\n   * Veifies an App Check token.\r\n   *\r\n   * @param appCheckToken The App Check token to verify.\r\n   *\r\n   * @return A promise that fulfills with a `VerifyAppCheckTokenResponse` on successful\r\n   *     verification.\r\n   */\n\n\n  AppCheck.prototype.verifyToken = function (appCheckToken) {\n    return this.appCheckTokenVerifier.verifyToken(appCheckToken).then(function (decodedToken) {\n      return {\n        appId: decodedToken.app_id,\n        token: decodedToken\n      };\n    });\n  };\n\n  return AppCheck;\n}();\n\nexports.AppCheck = AppCheck;","map":{"version":3,"sources":["C:/Users/ethan/OneDrive/Desktop/Files/Coding/Websites/MathIsCool/MIC/node_modules/firebase-admin/lib/app-check/app-check.js"],"names":["Object","defineProperty","exports","value","AppCheck","app_check_api_client_internal_1","require","token_generator_1","token_verifier_1","crypto_signer_1","app","client","AppCheckApiClient","tokenGenerator","AppCheckTokenGenerator","cryptoSignerFromApp","err","appCheckErrorFromCryptoSignerError","appCheckTokenVerifier","AppCheckTokenVerifier","prototype","createToken","appId","_this","createCustomToken","then","customToken","exchangeToken","verifyToken","appCheckToken","decodedToken","app_id","token"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,QAAR,GAAmB,KAAK,CAAxB;;AACA,IAAIC,+BAA+B,GAAGC,OAAO,CAAC,iCAAD,CAA7C;;AACA,IAAIC,iBAAiB,GAAGD,OAAO,CAAC,mBAAD,CAA/B;;AACA,IAAIE,gBAAgB,GAAGF,OAAO,CAAC,kBAAD,CAA9B;;AACA,IAAIG,eAAe,GAAGH,OAAO,CAAC,wBAAD,CAA7B;AACA;AACA;AACA;;;AACA,IAAIF,QAAQ;AAAG;AAAe,YAAY;AACtC;AACJ;AACA;AACA;AACI,WAASA,QAAT,CAAkBM,GAAlB,EAAuB;AACnB,SAAKA,GAAL,GAAWA,GAAX;AACA,SAAKC,MAAL,GAAc,IAAIN,+BAA+B,CAACO,iBAApC,CAAsDF,GAAtD,CAAd;;AACA,QAAI;AACA,WAAKG,cAAL,GAAsB,IAAIN,iBAAiB,CAACO,sBAAtB,CAA6CL,eAAe,CAACM,mBAAhB,CAAoCL,GAApC,CAA7C,CAAtB;AACH,KAFD,CAGA,OAAOM,GAAP,EAAY;AACR,YAAMT,iBAAiB,CAACU,kCAAlB,CAAqDD,GAArD,CAAN;AACH;;AACD,SAAKE,qBAAL,GAA6B,IAAIV,gBAAgB,CAACW,qBAArB,CAA2CT,GAA3C,CAA7B;AACH;AACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;AACIN,EAAAA,QAAQ,CAACgB,SAAT,CAAmBC,WAAnB,GAAiC,UAAUC,KAAV,EAAiB;AAC9C,QAAIC,KAAK,GAAG,IAAZ;;AACA,WAAO,KAAKV,cAAL,CAAoBW,iBAApB,CAAsCF,KAAtC,EACFG,IADE,CACG,UAAUC,WAAV,EAAuB;AAC7B,aAAOH,KAAK,CAACZ,MAAN,CAAagB,aAAb,CAA2BD,WAA3B,EAAwCJ,KAAxC,CAAP;AACH,KAHM,CAAP;AAIH,GAND;AAOA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;AACIlB,EAAAA,QAAQ,CAACgB,SAAT,CAAmBQ,WAAnB,GAAiC,UAAUC,aAAV,EAAyB;AACtD,WAAO,KAAKX,qBAAL,CAA2BU,WAA3B,CAAuCC,aAAvC,EACFJ,IADE,CACG,UAAUK,YAAV,EAAwB;AAC9B,aAAO;AACHR,QAAAA,KAAK,EAAEQ,YAAY,CAACC,MADjB;AAEHC,QAAAA,KAAK,EAAEF;AAFJ,OAAP;AAIH,KANM,CAAP;AAOH,GARD;;AASA,SAAO1B,QAAP;AACH,CAjD6B,EAA9B;;AAkDAF,OAAO,CAACE,QAAR,GAAmBA,QAAnB","sourcesContent":["/*! firebase-admin v9.10.0 */\r\n\"use strict\";\r\n/*!\r\n * @license\r\n * Copyright 2021 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AppCheck = void 0;\r\nvar app_check_api_client_internal_1 = require(\"./app-check-api-client-internal\");\r\nvar token_generator_1 = require(\"./token-generator\");\r\nvar token_verifier_1 = require(\"./token-verifier\");\r\nvar crypto_signer_1 = require(\"../utils/crypto-signer\");\r\n/**\r\n * AppCheck service bound to the provided app.\r\n */\r\nvar AppCheck = /** @class */ (function () {\r\n    /**\r\n     * @param app The app for this AppCheck service.\r\n     * @constructor\r\n     */\r\n    function AppCheck(app) {\r\n        this.app = app;\r\n        this.client = new app_check_api_client_internal_1.AppCheckApiClient(app);\r\n        try {\r\n            this.tokenGenerator = new token_generator_1.AppCheckTokenGenerator(crypto_signer_1.cryptoSignerFromApp(app));\r\n        }\r\n        catch (err) {\r\n            throw token_generator_1.appCheckErrorFromCryptoSignerError(err);\r\n        }\r\n        this.appCheckTokenVerifier = new token_verifier_1.AppCheckTokenVerifier(app);\r\n    }\r\n    /**\r\n     * Creates a new {@link appCheck.AppCheckToken `AppCheckToken`} that can be sent\r\n     * back to a client.\r\n     *\r\n     * @param appId The app ID to use as the JWT app_id.\r\n     *\r\n     * @return A promise that fulfills with a `AppCheckToken`.\r\n     */\r\n    AppCheck.prototype.createToken = function (appId) {\r\n        var _this = this;\r\n        return this.tokenGenerator.createCustomToken(appId)\r\n            .then(function (customToken) {\r\n            return _this.client.exchangeToken(customToken, appId);\r\n        });\r\n    };\r\n    /**\r\n     * Veifies an App Check token.\r\n     *\r\n     * @param appCheckToken The App Check token to verify.\r\n     *\r\n     * @return A promise that fulfills with a `VerifyAppCheckTokenResponse` on successful\r\n     *     verification.\r\n     */\r\n    AppCheck.prototype.verifyToken = function (appCheckToken) {\r\n        return this.appCheckTokenVerifier.verifyToken(appCheckToken)\r\n            .then(function (decodedToken) {\r\n            return {\r\n                appId: decodedToken.app_id,\r\n                token: decodedToken,\r\n            };\r\n        });\r\n    };\r\n    return AppCheck;\r\n}());\r\nexports.AppCheck = AppCheck;\r\n"]},"metadata":{},"sourceType":"script"}